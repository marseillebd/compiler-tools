# Work Log

Previous work moved from bytes to morphemes.
Now, I want to move from morphemes to lexemes.
The plan is noise reduction -> lexeme assembly -> "sandhi" (I can't think of a better word off-hand).

Lexeme assembly will create true string and number literals.
Sandhi will perform all whitespace-sensitive translations.
What I've done today is the noise reduction step.

Noise reduction just cleans up the parts of the input that the compiler laregly ignores:
- comments at the end of the line
- trailing whitespace (incl before a comment)
- checks that all end-of-lines are consistent (all Unix, or all windows, or...)
- checks that there's a newline at the end of the file

All error handling is deferred to a typeclass, and thus the caller.
The caller can decide to terminate on whatever errors it deems necessary,
    or it ignore whatever errors,
    or to batch up errors until it's ready to report them.
I think this is a really good way to separate error handling code from the main sequence of execution.

I'm super happy with how it turned out.
Even though I'm rawdogging the streaming library, the individual passes were really easy to write.
I even think they're fairly easy to read; we'll see what I think in three months.
